use axum::Router;

{% for service in services %}
pub mod {{ service.name | snake_case }};
{% endfor %}

pub mod error;

pub fn routes() -> Router {
    let mut router = Router::new();

    {% for service in services %}
    router = router.merge({{ service.name | snake_case }}::routes());
    {% endfor %}

    router
}